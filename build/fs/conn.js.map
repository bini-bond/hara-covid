{"version":3,"sources":["../../src/fs/conn.js"],"names":["mongoose","Promise","set","connect","config","host","connection","on","console","error","err","log","process","exit","connectDatabase"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;;;AAEAA,mBAASC,OAAT,GAAmBA,OAAnB;;;qEAEe;AAAA;AAAA;AAAA;AAAA;AACbD,+BAASE,GAAT,CAAa,kBAAb,EAAiC,KAAjC;AACAF,+BAASE,GAAT,CAAa,gBAAb,EAA+B,IAA/B;AACAF,+BAASE,GAAT,CAAa,iBAAb,EAAgC,IAAhC;AACAF,+BAASE,GAAT,CAAa,oBAAb,EAAmC,IAAnC;AAJa;AAAA,mBAKPF,mBAASG,OAAT,MACDC,iBAAOC,IADN,CALO;;AAAA;AAQbL,+BAASM,UAAT,CAAoBC,EAApB,CAAuB,OAAvB,EAAgC,eAAO;AACrCC,sBAAQC,KAAR,CAAcC,GAAd;AACAF,sBAAQG,GAAR;AAGAC,sBAAQC,IAAR;AACD,aAND;;AAQAb,+BAASM,UAAT,CAAoBC,EAApB,CAAuB,WAAvB,EAAoC,YAAM;AACxCC,sBAAQG,GAAR,CAAY,wBAAZ;AACD,aAFD;;AAIAX,+BAASM,UAAT,CAAoBC,EAApB,CAAuB,aAAvB,EAAsC,YAAM;AAC1CC,sBAAQG,GAAR,CAAY,0BAAZ;AACD,aAFD;;AAIAX,+BAASM,UAAT,CAAoBC,EAApB,CAAuB,cAAvB,EAAuC,YAAM;AAC3CC,sBAAQG,GAAR,CAAY,yBAAZ;AACD,aAFD;;AAIAX,+BAASM,UAAT,CAAoBC,EAApB,CAAuB,OAAvB,EAAgC,YAAM;AACpCC,sBAAQG,GAAR,CAAY,mBAAZ;AACD,aAFD;;AA5Ba;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;WAAeG,e;;;;SAAAA,e","file":"conn.js","sourcesContent":["import mongoose from \"mongoose\";\nimport config from \"../config/config\";\n\nmongoose.Promise = Promise;\n\nexport default async function connectDatabase() {\n  mongoose.set(\"useFindAndModify\", false);\n  mongoose.set(\"useCreateIndex\", true);\n  mongoose.set(\"useNewUrlParser\", true);\n  mongoose.set(\"useUnifiedTopology\", true);\n  await mongoose.connect(\n    `${config.host}`\n  );\n  mongoose.connection.on(\"error\", err => {\n    console.error(err);\n    console.log(\n      `MongoDB connection error. Please make sure MongoDB is running.`\n    );\n    process.exit();\n  });\n\n  mongoose.connection.on(\"connected\", () => {\n    console.log(\"Connection Established\");\n  });\n\n  mongoose.connection.on(\"reconnected\", () => {\n    console.log(\"Connection Reestablished\");\n  });\n\n  mongoose.connection.on(\"disconnected\", () => {\n    console.log(\"Connection Disconnected\");\n  });\n\n  mongoose.connection.on(\"close\", () => {\n    console.log(\"Connection Closed\");\n  });\n}\n"]}